==========
Whatâ€™s new
==========

This topic describes new functionality and breaking changes for recently released versions of
|EMOD_l|.

|EMOD_s| v2.13
==============

The |EMOD_s| v2.13 release includes many new features for all supported simulation types.

New configuration parameters
----------------------------

.. only:: generic

    For the generic simulation type, the following new configuration parameters are available:

    .. csv-table::
        :header: Parameter, Data type, Minimum, Maximum, Default, Description, Example
        :widths: 10, 5, 5, 5, 5, 20, 5
        :file: ../csv/213-config-generic.csv

.. only:: malaria

    For the malaria simulation type, the following new configuration parameters are available:

    .. csv-table::
        :header: Parameter, Data type, Minimum, Maximum, Default, Description, Example
        :widths: 10, 5, 5, 5, 5, 20, 5
        :file: ../csv/213-config-malaria.csv

.. only:: hiv

    For the HIV simulation type, the following new configuration parameters are available:

    .. csv-table::
        :header: Parameter, Data type, Minimum, Maximum, Default, Description, Example
        :widths: 10, 5, 5, 5, 5, 20, 5
        :file: ../csv/213-config-hiv.csv

.. only:: tb

    For the tuberculosis simulation type, the following new configuration parameters are available:

    .. csv-table::
        :header: Parameter, Data type, Minimum, Maximum, Default, Description, Example
        :widths: 10, 5, 5, 5, 5, 20, 5
        :file: ../csv/213-config-tb.csv

To view all available configuration parameters, see :doc:`parameter-configuration`.


New demographics parameters
---------------------------

In all simulation types, you can now assign properties like risk or quality of care to nodes using
**NodeProperties**, which are configured much like **IndividualProperties**. In addition, a new
property type is available for both nodes and individuals called **InterventionStatus**, which is
used by the campaign file to distribute interventions based on the other interventions an individual
or node has received. This property type was previously available only for individuals in the HIV
simulation type and was known as the **CascadeState**. The relevant campaign parameters are
described in the next section.

For more information, see the table below:

.. csv-table::
    :header: Parameter, Data type, Minimum, Maximum, Default, Description, Example
    :widths: 10, 5, 5, 5, 5, 20, 5
    :file: ../csv/213-demo-generic.csv

New campaign parameters
-----------------------

The addition of **NodeProperties** in the demographics file also necessitated the addition of
**Node_Property_Restrictions** to control how interventions are distributed based on the
property values assigned to each node.

The new property type **InterventionStatus** also necessitated the new campaign parameters
**Disqualifying_Properties** and **New_Property_Value** to control how interventions are distributed
based on the interventions already received. **Disqualifying_Properties** prevents an intervention
from being distributed to individuals or nodes with certain property values. **New_Property_Value**
updates the property value after they receive an intervention. For example, a household may be
ineligible for clinical treatment for a length of time if they already received treatment during a
drug campaign.  These campaign parameters were previously only available for individuals in the HIV
simulation type and were known as **Abort_States** and **Valid_Cascade_States**

A new **CommunityHealthWorkerEventCoordinator** was added to set characteristics such as size of
shipment, days between shipments, or maximum treatments distributed per day when interventions are
distributed by community health workers.

Several new parameters were added to control effect of vaccines and disease exposure on immunity.
For example, whether the effect of receiving more than one vaccine is multiplicative or additive or
if there are immune boosting or priming effects.

.. only:: malaria or vector

    New parameters were added to set the length of time over which bednets are effective based on both
    an expiration date and a waning effect based on usage.

Detailed descriptions for each of the new campaign parameters will be added shortly.

|EMOD_s| v2.10
==============

The |EMOD_s| v2.10 release includes new and updated malaria configuration, demographic, and
intervention parameters. With this release, |EMOD_s| now uses |VS_2015|, |Boost_161|, and |Scons_25|.


|EMOD_s| software upgrades
--------------------------

Microsoft Visual Studio
    |EMOD_s| now uses |VS_2015|, and |VS_2012| is no longer supported. The Visual Studio solution
    file in the |EMOD_s| source, EradicationKernel, has been updated for |VS_2015|. If you have
    custom reporter EMODules (DLLS) that were built using |VS_2012|, you will need to rebuild them
    with |VS_2015|; otherwise, your simulation will crash when it attempts to load the DLLs built
    by |VS_2012|.

Boost
    |EMOD_s| now supports using |Boost_161|. If you continue to use |Boost_151|, you will get the
    following warning, "Unknown compiler version - please run the configure tests and report the
    results."

Environment variables
    To make it easier to use Boost and Python with Visual Studio, |IDM_s| paths have been created.
    These two paths, IDM_BOOST_PATH and IDM_PYTHON_PATH, need to be added to your  environment
    variables by using either the **setx** command from a command line or the Windows System
    Properties panel.

SCons
    |EMOD_s| was tested using |Scons_25|, as it supports |VS_2015|. If you do not add the new
    |IDM_s| environment variables for Boost and Python, you will need to modify the Boost and
    Python paths in the SConstruct file in the |EMOD_s| root directory.


Python
    |EMOD_s| was tested with Python 2.7.11 and 2.7.12. If you are building the |exe_l| and have
    an earlier version of Python (for example, 2.7.2), you will see the following warning message on some
    files, "c:\python27\include\pymath.h(22): warning C4273: 'round': inconsistent dll linkage."
    Upgrade to Python 2.7.11 or 2.7.12 to get rid of the warning message.

For more information, see :doc:`dev-install-prerequisites`.



