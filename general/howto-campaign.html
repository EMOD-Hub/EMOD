

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create a campaign file &mdash; Generic Model  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within Generic Model  documentation" href="_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/tipuesearch/tipuesearch.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Generic Model  documentation" href="index.html"/>
        <link rel="up" title="How to use the software" href="howto-overview.html"/>
        <link rel="next" title="Use campaign overlay files" href="howto-campaign-overlay.html"/>
        <link rel="prev" title="Use configuration overlay files" href="howto-config-overlay.html"/>

<link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans" rel="stylesheet">



  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Generic Model
          

          
            
            <img src="_static/IDM_white.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.13
              </div>
            
          

          <div role="search">
  <form id='rtd-search-form' class='wy-form' action="search-local.html" method="get">
    <input type="text" name="q" id="tipue_search_input" autocomplete="off"
           placeholder="Search docs" required>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Using the model</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-overview.html">EMOD installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro-overview.html">Introduction to the software</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro-modeling.html">Introduction to disease modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-simulation-tutorial-overview.html">Generic simulation tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="howto-overview.html">How to use the software</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="howto-inputs.html">Use input data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto-configuration.html">Create a configuration file</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create a campaign file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="howto-schema.html">Generate a list of all available parameters (a schema)</a></li>
<li class="toctree-l3"><a class="reference internal" href="howto-parameter-sweep.html">Perform a parameter sweep</a></li>
<li class="toctree-l3"><a class="reference internal" href="howto-campaign-overlay.html">Use campaign overlay files</a></li>
<li class="toctree-l3"><a class="reference internal" href="howto-targeted-interventions.html">Target interventions to nodes or groups</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="howto-simulations.html">Run simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto-outputs.html">Use output files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parameter-overview.html">EMOD parameter reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-reference-overview.html">Input and output file structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting EMOD simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Advancing the model</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dev-install-overview.html">EMOD source code installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-architecture-overview.html">EMOD architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-debugging-overview.html">Debugging and testing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Generic Model</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
  <li><a href="../index.html">IDM docs</a> &raquo;</li>
    <li><a href="index.html">Generic</a> &raquo;</li>
      
          <li><a href="howto-overview.html">How to use the software</a> &raquo;</li>
      
    <li>Create a campaign file</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- From _templates/page.html -->

  <div class="section" id="create-a-campaign-file">
<h1>Create a campaign file<a class="headerlink" href="#create-a-campaign-file" title="Permalink to this headline">¶</a></h1>
<p>You define the initial disease outbreak and interventions used a campaign for a simulation through a
JSON-formatted campaign file, typically called campaign.json. It is hierarchically organized into
logical groups of parameters that can have arbitrary levels of nesting. For some interventions,
there can be a very complex hierarchical structure, including recursion. The campaign file must
be in the same directory as the <a class="reference internal" href="glossary.html#term-configuration-file"><span class="xref std std-term">configuration file</span></a> and the name must be specified by the
configuration parameter <strong>Campaign_Filename</strong>. This topic describes how to create the campaign file.</p>
<p>The EMOD <a class="reference external" href="https://github.com/InstituteforDiseaseModeling/EMOD/tree/master/Regression">Regression</a> directory contains many different subdirectories that contain
configuration, campaign, and other associated files to run simulations that represent real-world
scenarios. Within the each subdirectory, there is usually a single campaign file (campaign.json),
though some directories also include a campaign overlay file (campaign_overrides.json), which has
been created by combining campaign_overrides.json with one of the default files in
<a class="reference external" href="https://github.com/InstituteforDiseaseModeling/EMOD/tree/master/Regression/defaults">Regression/defaults</a>. The naming of these files is an arbitrary convention used at IDM;
you may name this files anything you choose. See <a class="reference internal" href="howto-campaign-overlay.html"><span class="doc">Use campaign overlay files</span></a> for more information
flattening two campaign files.</p>
<p>For a complete list of campaign parameters that are available to use with this simulation type,
see <a class="reference internal" href="parameter-campaign.html"><span class="doc">Campaign parameters</span></a>. For more information about JSON, see <a class="reference internal" href="parameter-overview.html"><span class="doc">EMOD parameter reference</span></a>.</p>
<p>To distribute an intervention, you must configure the following:</p>
<dl class="docutils">
<dt>Campaign event</dt>
<dd>A JSON object that determines <strong>when</strong> and <strong>where</strong> an intervention is distributed during a campaign.</dd>
<dt>Event coordinator</dt>
<dd>A JSON object that determines <strong>who</strong> will receive a particular intervention during a campaign.</dd>
<dt>Intervention</dt>
<dd>A JSON object that determines <strong>what</strong> will be distributed to reduce the spread of a disease. An
intervention can be distributed either to an individual (such as a vaccine, drug, or bednet) or
to a node (such as a larvicide). Sometimes this can be an intermediate intervention that
schedules another intervention.</dd>
</dl>
<p>The following is an example of campaign file that has two events (SimpleVaccine and Outbreak) that
occur in all nodes at day 1 and day 30, respectively. Each event contains an event coordinator that
describes who receives the intervention (everyone, with the vaccine repeated three times) and the
configuration for the intervention itself.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <strong>Outbreak</strong> must be the last event in the campaign file or none of the interventions
will take place.</p>
</div>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;Campaign_Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Vaccine&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Use_Defaults&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;Events&quot;</span><span class="p">:</span>
    <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;Event_Name&quot;</span><span class="p">:</span> <span class="s2">&quot;SimpleVaccine&quot;</span><span class="p">,</span>
            <span class="nt">&quot;Event_Coordinator_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;Demographic_Coverage&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                <span class="nt">&quot;Intervention_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Cost_To_Consumer&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                    <span class="nt">&quot;Waning_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;WaningEffectMapLinear&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;Initial_Effect&quot;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                        <span class="nt">&quot;Expire_At_Durability_Map_End&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;Durability_Map&quot;</span> <span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;Times&quot;</span>  <span class="p">:</span> <span class="p">[</span>   <span class="mi">0</span><span class="p">,</span>  <span class="mi">30</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span>  <span class="mi">90</span><span class="p">,</span> <span class="mi">120</span> <span class="p">],</span>
                            <span class="nt">&quot;Values&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">1.0</span> <span class="p">]</span>
                        <span class="p">}</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;Vaccine_Take&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="nt">&quot;Vaccine_Type&quot;</span><span class="p">:</span> <span class="s2">&quot;AcquisitionBlocking&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;SimpleVaccine&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;Number_Repetitions&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="nt">&quot;Target_Demographic&quot;</span><span class="p">:</span> <span class="s2">&quot;Everyone&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Timesteps_Between_Repetitions&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
                <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;StandardInterventionDistributionEventCoordinator&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;Nodeset_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;NodeSetAll&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;Start_Day&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;CampaignEvent&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;Event_Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Outbreak&quot;</span><span class="p">,</span>
            <span class="nt">&quot;Event_Coordinator_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;Demographic_Coverage&quot;</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
                <span class="nt">&quot;Intervention_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;Antigen&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;Genome&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;Outbreak_Source&quot;</span><span class="p">:</span> <span class="s2">&quot;PrevalenceIncrease&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;OutbreakIndividual&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;Target_Demographic&quot;</span><span class="p">:</span> <span class="s2">&quot;Everyone&quot;</span><span class="p">,</span>
                <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;StandardInterventionDistributionEventCoordinator&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;Nodeset_Config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;NodeSetAll&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;Start_Day&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="nt">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;CampaignEvent&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="multiple-interventions">
<h2>Multiple interventions<a class="headerlink" href="#multiple-interventions" title="Permalink to this headline">¶</a></h2>
<p>When creating multiple interventions, either of the same type or different types, they will
generally be distributed independently without regard to whether a person has already received another
intervention. For example, say you create two <strong>SimpleBednet</strong> interventions and both interventions
have <strong>Demographic_Coverage</strong> set to 0.5 (50% demographic coverage). This value is the probability
that each individual in the target population will receive the intervention. It does not guarantee
that the exact fraction of the target population set by <strong>Demographic_Coverage</strong> receives the
intervention.</p>
<p>By default, each individual in the simulation will have a 50% chance of receiving a bednet in both
of the distributions and the two distributions will be independent. Therefore, each individual has a
75% chance of receiving at least one bednet.</p>
<img alt="_images/howto-multiple.png" src="_images/howto-multiple.png" />
</div>
<div class="section" id="create-a-new-campaign-event">
<h2>Create a new campaign event<a class="headerlink" href="#create-a-new-campaign-event" title="Permalink to this headline">¶</a></h2>
<p>Although you can create campaign files entirely from scratch, it is often easier to start from an
existing campaign file and modify it to meet your needs. Any of the campaign files in the
<a class="reference external" href="https://github.com/InstituteforDiseaseModeling/EMOD/tree/master/Regression">Regression</a> directory may be used. The simplest method is to edit the parameters or parameter values
in the JSON file in any text editor. You may also create or modify the files using a scripting
language, as with configuration files. See <a class="reference internal" href="howto-configuration.html"><span class="doc">Create a configuration file</span></a> for examples.</p>
<ol class="arabic simple">
<li>In the <strong>Events</strong> array, create a new empty JSON object. This object will contain all parameters
for the new campaign event.</li>
<li>In this object, add and set values for the <strong>Event_Name</strong> and <strong>class</strong> parameters.</li>
<li>Add the <strong>Nodeset_Config</strong> parameter to define in which geographic nodes this even will occur.</li>
<li>Add the <strong>Event_Coordinator_Config</strong> parameter and assign a JSON object that will contain
multiple parameters that control who receives the intervention.</li>
<li>In this object, add the <strong>Intervention_Config</strong> parameter and assign a JSON object that will
contain multiple parameters that control which intervention is distributed.</li>
</ol>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="howto-schema.html">Generate a list of all available parameters (a schema)</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto-parameter-sweep.html">Perform a parameter sweep</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto-campaign-overlay.html">Use campaign overlay files</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto-targeted-interventions.html">Target interventions to nodes or groups</a></li>
</ul>
</div>
</div>
</div>


<div id="tipue_search_content"></div>

           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="howto-campaign-overlay.html" class="btn btn-neutral float-right" title="Use campaign overlay files" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="howto-config-overlay.html" class="btn btn-neutral" title="Use configuration overlay files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Intellectual Ventures Management, LLC (IVM). All rights reserved.

    </p>
  </div>
<p>EMOD is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons Attribution-Noncommercial-ShareAlike 4.0 License</a>.</p>
<p>Send documentation feedback to <a href="mailto:feedback@idmod.org" target="_top">feedback@idmod.org</a>.</p>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch_content.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch_set.js"></script>
      <script type="text/javascript" src="_static/runsearch.js"></script>
      <script type="text/javascript" src="_static/tablecollapse.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<!-- Google analytics for IDM docs -->
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87656833-3', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>