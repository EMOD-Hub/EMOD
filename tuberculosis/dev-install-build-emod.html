

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Build EMOD from source code &mdash; Tuberculosis Model  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within Tuberculosis Model  documentation" href="_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/tipuesearch/tipuesearch.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Tuberculosis Model  documentation" href="index.html"/>
        <link rel="up" title="EMOD source code installation" href="dev-install-overview.html"/>
        <link rel="next" title="EMOD architecture" href="dev-architecture-overview.html"/>
        <link rel="prev" title="Download the EMOD source code" href="dev-install-download-emod.html"/>

<link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans" rel="stylesheet">



  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Tuberculosis Model
          

          
            
            <img src="_static/IDM_white.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.13
              </div>
            
          

          <div role="search">
  <form id='rtd-search-form' class='wy-form' action="search-local.html" method="get">
    <input type="text" name="q" id="tipue_search_input" autocomplete="off"
           placeholder="Search docs" required>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Using the model</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-overview.html">EMOD installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro-overview.html">Introduction to the software</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro-modeling.html">Introduction to disease modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto-overview.html">How to use the software</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter-overview.html">EMOD parameter reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-reference-overview.html">Input and output file structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting EMOD simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Advancing the model</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="dev-install-overview.html">EMOD source code installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dev-install-prerequisites.html">Prerequisites for working with EMOD source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev-install-download-emod.html">Download the EMOD source code</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Build EMOD from source code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev-architecture-overview.html">EMOD architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-debugging-overview.html">Debugging and testing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Tuberculosis Model</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
  <li><a href="../index.html">IDM docs</a> &raquo;</li>
    <li><a href="index.html">TB</a> &raquo;</li>
      
          <li><a href="dev-install-overview.html">EMOD source code installation</a> &raquo;</li>
      
    <li>Build EMOD from source code</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- From _templates/page.html -->

  <div class="section" id="build-emod-s-from-source-code">
<h1>Build EMOD from source code<a class="headerlink" href="#build-emod-s-from-source-code" title="Permalink to this headline">¶</a></h1>
<p>You can build the Eradication.exe for Windows 10, Windows Server 12, and Windows HPC Server 12 (64-bit) using Microsoft Visual Studio or SCons. You can build
the Eradication binary for CentOS 7.1 on Azure using SCons.</p>
<p>If you want full debugging support, you must build using Visual Studio. However, Visual Studio is
only capable of a <a class="reference internal" href="glossary.html#term-monolithic-build"><span class="xref std std-term">monolithic build</span></a> that includes all supported simulation types.</p>
<p>EMOD supports the following simulation types for modeling a variety of diseases:</p>
<ul class="simple">
<li>Generic disease (GENERIC_SIM)</li>
<li>Vector-borne diseases (VECTOR_SIM)</li>
<li>Malaria (MALARIA_SIM)</li>
<li>Tuberculosis (TB_SIM)</li>
<li>Sexually transmitted infections (STI_SIM)</li>
<li>HIV (HIV_SIM)</li>
</ul>
<p>If you want to create a disease-specific build, you must build using SCons. However, SCons builds
build only the release version without extensive debugging information.</p>
<div class="section" id="build-a-monolithic-exe-s-with-visual-studio">
<h2>Build a monolithic Eradication.exe with Visual Studio<a class="headerlink" href="#build-a-monolithic-exe-s-with-visual-studio" title="Permalink to this headline">¶</a></h2>
<p>You can use the Microsoft Visual Studio solution file in the EMOD source code repository to
build the monolithic version of the EMOD executable (Eradication.exe), which can be either a release or debug build. Visual Studio 2015 (Professional, Premium, or Ultimate)
is the currently supported version.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Visual Studio creates a debug build by default. However, you must use a release build to
commission simulations to COMputational Platform Service (COMPS); attempting to use a debug build will result in an error.</p>
</div>
<ol class="arabic simple">
<li>Open the EradicationKernel solution in Visual Studio.</li>
<li>From the <strong>Solution Configurations</strong> ribbon, select <strong>Debug</strong> or <strong>Release</strong>.</li>
<li>On the <strong>Build</strong> menu, select <strong>Build Solution</strong>.</li>
</ol>
<p>Eradication.exe will be in a subdirectory of the Eradication directory.</p>
</div>
<div class="section" id="build-exe-s-or-linux-binary-with-scons">
<h2>Build Eradication.exe or Eradication binary with SCons<a class="headerlink" href="#build-exe-s-or-linux-binary-with-scons" title="Permalink to this headline">¶</a></h2>
<p>SCons is a software construction tool that is an alternative to the well-known &#8220;Make&#8221; build tool. It
is implemented in Python and the SCons configuration files, SConstruct and SConscript, are executed
as Python scripts. This allows for greater flexibility and extensibility, such as the creation of
custom SCons abilities just for EMOD. For more information on Scons, see <a class="reference external" href="http://www.scons.org/">www.scons.org</a>. SCons 2.5.0
is the currently supported version.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">EMOD will not build if you use the <code class="docutils literal"><span class="pre">--Debug</span></code> flag. To build a debug version, you must
use Visual Studio.</p>
</div>
<ol class="arabic">
<li><p class="first">Open a command window.</p>
</li>
<li><p class="first">Go to the directory where EMOD is installed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">C</span><span class="p">:</span>\<span class="n">IDM</span>\<span class="n">EMOD</span>
</pre></div>
</div>
</li>
<li><p class="first">Run the following command to build Eradication.exe:</p>
<ul>
<li><p class="first">For a monolithic build:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">scons</span> <span class="o">--</span><span class="n">Release</span>
</pre></div>
</div>
</li>
<li><p class="first">For a disease-specific build, specify one of the supported disease types using the
<code class="docutils literal"><span class="pre">--Disease</span></code> flag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">scons</span> <span class="o">--</span><span class="n">Release</span> <span class="o">--</span><span class="n">Disease</span><span class="o">=</span><span class="n">Vector</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">The executable will be placed, by default, in the subdirectory
build\x64\Release\Eradication\ of your local EMOD source.</p>
</li>
</ol>
<p>Additionally, you can parallelize the build process with the <code class="docutils literal"><span class="pre">--jobs</span></code> flag. This flag indicates
the number of jobs that can be run at the same time (a single core can only run one job at a time).
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">scons</span> <span class="o">--</span><span class="n">Release</span> <span class="o">--</span><span class="n">Disease</span><span class="o">=</span><span class="n">Vector</span> <span class="o">--</span><span class="n">jobs</span><span class="o">=</span><span class="mi">4</span>
</pre></div>
</div>
</div>
</div>


<div id="tipue_search_content"></div>

           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dev-architecture-overview.html" class="btn btn-neutral float-right" title="EMOD architecture" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dev-install-download-emod.html" class="btn btn-neutral" title="Download the EMOD source code" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Intellectual Ventures Management, LLC (IVM). All rights reserved.

    </p>
  </div>
<p>EMOD is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons Attribution-Noncommercial-ShareAlike 4.0 License</a>.</p>
<p>Send documentation feedback to <a href="mailto:feedback@idmod.org" target="_top">feedback@idmod.org</a>.</p>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch_content.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch_set.js"></script>
      <script type="text/javascript" src="_static/runsearch.js"></script>
      <script type="text/javascript" src="_static/tablecollapse.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<!-- Google analytics for IDM docs -->
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87656833-3', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>